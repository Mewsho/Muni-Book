<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Muni Book - Carrito de Compras</title>
    <!-- Bootstrap 5 CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      .container {
        flex-grow: 1;
      }
      .cart-section {
        margin-top: 30px;
        border: 1px solid #ddd;
        padding: 20px;
        border-radius: 10px;
        background-color: #f9f9f9;
      }
    </style>
  </head>
  <body>
    <!-- Header Section -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <svg
            width="30"
            height="30"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="24" height="24" fill="white" />
            <path d="M4 4H20V20H4V4Z" stroke="black" stroke-width="2" />
            <path d="M8 8H16V16H8V8Z" stroke="black" stroke-width="2" />
          </svg>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#products">Productos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#solutions">Soluciones</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#community">Comunidad</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Contacto</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Shopping Cart Section -->
    <div class="container cart-section">
      <div class="row">
        <!-- Lista de libros (span 8) -->
        <div class="col-md-8">
          <h3>Lista de Libros</h3>
          <ul class="list-group mb-3">
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              Libro 1
              <div>
                <button
                  class="btn btn-outline-secondary btn-sm"
                  onclick="updateQuantity('book1', -1)"
                >
                  -
                </button>
                <span id="book1" class="mx-2">0</span>
                <button
                  class="btn btn-outline-secondary btn-sm"
                  onclick="updateQuantity('book1', 1)"
                >
                  +
                </button>
              </div>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              Libro 2
              <div>
                <button
                  class="btn btn-outline-secondary btn-sm"
                  onclick="updateQuantity('book2', -1)"
                >
                  -
                </button>
                <span id="book2" class="mx-2">0</span>
                <button
                  class="btn btn-outline-secondary btn-sm"
                  onclick="updateQuantity('book2', 1)"
                >
                  +
                </button>
              </div>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              Libro 3
              <div>
                <button
                  class="btn btn-outline-secondary btn-sm"
                  onclick="updateQuantity('book3', -1)"
                >
                  -
                </button>
                <span id="book3" class="mx-2">0</span>
                <button
                  class="btn btn-outline-secondary btn-sm"
                  onclick="updateQuantity('book3', 1)"
                >
                  +
                </button>
              </div>
            </li>
          </ul>
        </div>

        <!-- Opciones de préstamo y detalles (span 4) -->
        <div class="col-md-4">
          <h3>Detalles del Prestamo</h3>

          <div class="mb-3">
            <label for="cantidadLibros" class="form-label"
              >Cantidad Total de Libros</label
            >
            <input
              type="number"
              class="form-control"
              id="cantidadLibros"
              placeholder="0"
              readonly
            />
          </div>

          <div class="mb-3">
            <label class="form-label">Tipo de Prestamo</label>
            <div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="tipoPrestamo"
                  id="prestamoSala"
                  value="sala"
                />
                <label class="form-check-label" for="prestamoSala">
                  Prestamo en Sala
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="tipoPrestamo"
                  id="prestamoDomicilio"
                  value="domicilio"
                />
                <label class="form-check-label" for="prestamoDomicilio">
                  Prestamo a Domicilio
                </label>
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="fechaPrestamo" class="form-label"
              >Fecha de Prestamo</label
            >
            <input
              type="datetime-local"
              class="form-control"
              id="fechaPrestamo"
              onchange="calcularFechaDevolucion()"
            />
          </div>

          <div class="mb-3">
            <label for="fechaDevolucion" class="form-label"
              >Fecha de Devolucion</label
            >
            <input
              type="text"
              class="form-control"
              id="fechaDevolucion"
              readonly
            />
          </div>

          <button
            class="btn btn-success w-100 mt-3"
            onclick="confirmarReserva()"
          >
            Confirmar Reserva
          </button>
        </div>
      </div>
    </div>

    <script>
      // Función para actualizar la cantidad de libros y la cantidad total
      function updateQuantity(bookId, change) {
        const bookElement = document.getElementById(bookId);
        let currentQuantity = parseInt(bookElement.textContent);
        currentQuantity = Math.max(0, currentQuantity + change); // Evitar que la cantidad sea negativa
        bookElement.textContent = currentQuantity;

        updateTotalBooks();
      }

      // Función para actualizar la cantidad total de libros
      function updateTotalBooks() {
        const book1 = parseInt(document.getElementById("book1").textContent);
        const book2 = parseInt(document.getElementById("book2").textContent);
        const book3 = parseInt(document.getElementById("book3").textContent);
        const totalBooks = book1 + book2 + book3;
        document.getElementById("cantidadLibros").value = totalBooks;
      }

      // Función para calcular la fecha de devolución, aproximadamente 2 semanas después de la fecha de préstamo
      function calcularFechaDevolucion() {
        const fechaPrestamo = new Date(
          document.getElementById("fechaPrestamo").value
        );
        if (fechaPrestamo) {
          fechaPrestamo.setDate(fechaPrestamo.getDate() + 14); // Añadir 14 días
          document.getElementById("fechaDevolucion").value =
            fechaPrestamo.toLocaleDateString("es-ES");
        }
      }

      // Función para confirmar la reserva (puedes agregar la lógica que desees)
      function confirmarReserva() {
        alert("Reserva confirmada. ¡Gracias por utilizar nuestro servicio!");
      }
    </script>
  </body>
</html>
